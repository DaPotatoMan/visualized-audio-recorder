import{d as g,o as l,c as b,a as u,r as C,m as k,n as v,F as w,b as L,e as M,l as R,g as A,f as E,h as O,s as S,u as h,i as y,t as B,w as V,j as z}from"./vendor.f34383be.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}};P();const T="_layout_deqsm_1";var q={layout:T},$=(s,e)=>{const o=s.__vccOpts||s;for(const[r,t]of e)o[r]=t;return o};const x=g({inheritAttrs:!1}),D=L(" Made with \u2764 By "),F=u("a",{href:"https://github.com/DaPotatoMan"},"@DaPotatoMan",-1),U=[D,F];function j(s,e,o,r,t,n){return l(),b(w,null,[u("main",k({class:s.$style.layout},s.$attrs),[C(s.$slots,"default")],16),u("footer",{class:v(s.$style.footer)},U,2)],64)}const N={$style:q};var W=$(x,[["render",j],["__cssModules",N]]);const H={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Z=u("path",{fill:"currentColor",d:"M23 14v3a7 7 0 0 1-14 0v-3H7v3a9 9 0 0 0 8 8.94V28h-4v2h10v-2h-4v-2.06A9 9 0 0 0 25 17v-3Z"},null,-1),Y=u("path",{fill:"currentColor",d:"M16 22a5 5 0 0 0 5-5V7a5 5 0 0 0-10 0v10a5 5 0 0 0 5 5ZM13 7a3 3 0 0 1 6 0v10a3 3 0 0 1-6 0Z"},null,-1),I=[Z,Y];function K(s,e){return l(),b("svg",H,I)}var G={name:"carbon-microphone",render:K};const J={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Q=u("path",{fill:"currentColor",d:"M24 8v16H8V8h16m0-2H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"},null,-1),X=[Q];function ee(s,e){return l(),b("svg",J,X)}var te={name:"carbon-stop",render:ee};const d={lineCap:"round",gap:5,lineWidth:10,maxLines:40,bufferSize:512};function oe(s,e,o){const r=R(o,4),{gap:t,lineCap:n,lineWidth:i}=d,{width:a,height:c}=s;Object.assign(e,{lineWidth:i,lineCap:n}),e.clearRect(0,0,a,c),e.fillStyle="#09070D",e.fillRect(0,0,a,c),e.strokeStyle="#fff",r.forEach((p,m)=>{const f=Math.min(Math.max(p,0),c/3),_=t*(m+1);_>a-t||(e.beginPath(),e.moveTo(_,c/2+f),e.lineTo(_,c/2-f),e.stroke())})}async function ne(s,e,o){try{let r=function(){!c||(requestAnimationFrame(r),n.getByteFrequencyData(a),oe(s,e,a))};d.lineWidth=Math.round(s.width/130),d.gap=Math.round(s.width/(d.lineWidth*2)),d.maxLines=Math.round(s.width/(d.gap-d.lineWidth));const t=new AudioContext,n=t.createAnalyser();n.fftSize=d.bufferSize,n.minDecibels=-90,n.maxDecibels=20,n.smoothingTimeConstant=.85;const i=o.clone();t.createMediaStreamSource(i).connect(n);const a=new Uint8Array(n.frequencyBinCount).slice(0,d.maxLines);let c=!0;o.addEventListener("removetrack",()=>{M(i),e.clearRect(0,0,s.width,s.height),c=!1}),requestAnimationFrame(r)}catch(r){console.error(r)}}function se(s,e){const o=document.createElement("canvas");if(!(o!=null&&o.captureStream))throw new Error("This browser does not support captureStream");const r=16/9,t=720;o.width=t*r,o.height=t;const n=o.getContext("2d");ne(o,n,s);const i=o.captureStream(e);return i.getTracks().forEach(a=>a.contentHint="detail"),i}const re="captureStream"in document.createElement("canvas"),ae={fps:24,streamConstraints:{audio:!0}};function ie(s={}){let e,o;function r(){try{o=[],e&&(e.stop(),M(e.stream))}catch{}}async function t(){var f;r();const a=Object.assign(ae,s),c=await A(a.streamConstraints),p=se(c,(f=a.fps)!=null?f:24),m=E(p,c);e=new MediaRecorder(m,a.recorderOptions),e.addEventListener("stop",()=>O([m,c,p],!0)),e.addEventListener("dataavailable",_=>_.data.size>0&&o.push(_.data))}async function n(){(!e||!(e!=null&&e.stream))&&await t(),e.start()}function i(){if(!e||(e==null?void 0:e.state)==="inactive")throw new Error("Recorder is not active.");return new Promise(a=>{e.addEventListener("stop",()=>{const c=new Blob(o,{type:e.mimeType});r(),a(c)}),e.stop()})}return{init:t,start:n,stop:i,destroy:r,isSupported:re}}const ce="_button_mpij8_1";var le={button:ce};const ue=u("br",null,null,-1),de=g({emits:["finish"],setup(s,{emit:e}){const o=S(!1),r=ie({fps:60,recorderOptions:{mimeType:"video/webm;codecs=vp9,opus"}});async function t(){await r.init(),r.start(),o.value=!0}async function n(){const i=await r.stop(),a=URL.createObjectURL(i);o.value=!1,e("finish",a)}return(i,a)=>{const c=te,p=G;return l(),b(w,null,[u("button",{class:v(i.$style.button),onClick:a[0]||(a[0]=m=>h(o)?n():t())},[h(o)?(l(),y(c,{key:0})):(l(),y(p,{key:1}))],2),ue,u("span",null," Click button to "+B(h(o)?"stop":"start")+" recording ",1)],64)}}}),pe={$style:le};var _e=$(de,[["__cssModules",pe]]);const me="_wrapper_69i0l_1",fe="_video_69i0l_8";var he={wrapper:me,"bg-dot-move":"_bg-dot-move_69i0l_1",video:fe};const ye=["src"],ve=g({props:{blobUrl:null},setup(s){return(e,o)=>(l(),b("div",{class:v(e.$style.wrapper)},[u("video",{class:v(e.$style.video),src:s.blobUrl,controls:"",autoplay:""},null,10,ye)],2))}}),be={$style:he};var ge=$(ve,[["__cssModules",be]]);const $e="_layout_1ycu3_1";var we={layout:$e};const Me=g({setup(s){const e=S("");return(o,r)=>{const t=ge,n=_e,i=W;return l(),y(i,{class:v(o.$style.layout)},{default:V(()=>[h(e)?(l(),y(t,{key:0,"blob-url":h(e)},null,8,["blob-url"])):(l(),y(n,{key:1,onFinish:r[0]||(r[0]=a=>e.value=a)}))]),_:1},8,["class"])}}}),Se={$style:we};var Ce=$(Me,[["__cssModules",Se]]);z(Ce).mount("#app");
